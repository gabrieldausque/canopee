{
  "CanopeeAgent": {
    "AgentId": "11B7C395-46C9-47B6-935F-DE1850EF2AE0"
  },
  "Pipelines": [
    {
      "Name": "Hardware",
      "Type": "Default",
      "Trigger": {
        "TriggerType": "Cron",
        "When": "0/30 * * * * ?"
      },
      "Input": {
        "InputType": "Hardware",
        "OSSpecific": true
      },
      "Transforms": [
        {
          "TransformType": "ElasticVLookup",
          "Url": "http://192.168.1.67:9200",
          "SearchedIndex": "hw-agentlocation",
          "Key": {
            "LocalName": "AgentId",
            "SearchedName": "AgentId"
          },
          "Fields": [
            {
              "SearchedName": "CodePostal",
              "LocalName": "PostalCode"
            },
            {
              "SearchedName": "NomPrenom",
              "LocalName": "NomPrenom"
            }
          ]
        },
        {
          "TransformType": "APIGeoGouv",
          "Key": {
            "LocalName": "PostalCode",
            "SearchedName":  "codePostal"
          }
        }
      ],
      "Output": {
        "OutputType": "Elastic",
        "Indexes": [
          {
            "InfosType": "Canopee.StandardLibrary.Inputs.Hardware.HardwareInfos",
            "Index": "hw-main"
          },
          {
            "InfosType": "Canopee.StandardLibrary.Inputs.Hardware.DiskInfos",
            "Index": "hw-disks"
          },
          {
            "InfosType": "Canopee.StandardLibrary.Inputs.Hardware.DisplayInfos",
            "Index": "hw-display"
          },
          {
            "InfosType": "Canopee.StandardLibrary.Inputs.Hardware.GraphicalCardInfos",
            "Index": "hw-graphicalcards"
          }
        ],
        "Url": "http://192.168.1.67:9200"
      }
    },
    {
      "Name": "LocationRepository",
      "Type": "Default",
      "Trigger": {
        "TriggerType": "Cron",
        "When": "0/30 * * * * ?"
      },
      "Input": {
        "InputType": "CSV",
        "File": "./AgentLocation.csv",
        "FileType": "CSV",
        "FieldSeparator": ";",
        "WithHeader": true
      },
      "Transform": {
      },
      "Output": {
        "OutputType": "Elastic",
        "Indexes": [
          {
            "InfosType": "Canopee.StandardLibrary.Inputs.File.RawFileLineInfo",
            "Index": "hw-agentlocation"
          }
        ],
        "Url": "http://192.168.1.67:9200"
      }
    }
  ]
}
